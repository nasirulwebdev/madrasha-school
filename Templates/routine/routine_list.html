{% extends 'base.html' %}
{% block content %}
<h2>Routine Dashboard</h2>

<form method="GET" class="d-flex gap-2 mb-3">
     <!-- Search Box -->
    <input type="text" name="search" placeholder="Search..." class="form-control" value="{{ search_query }}">

    <!-- Class Filter -->
    <select name="class" class="form-select">
        <option value="">All Classes</option>
        <option value="Class 1" {% if class_filter == "Class 1" %}selected{% endif %}>Class 1</option>
        <option value="Class 2" {% if class_filter == "Class 2" %}selected{% endif %}>Class 2</option>
        <option value="Class 3" {% if class_filter == "Class 3" %}selected{% endif %}>Class 3</option>
        <!-- Add more classes as needed -->
    </select>

    <!-- Day Filter -->
    <select name="day" class="form-select">
        <option value="">All Days</option>
        <option value="Saturday" {% if day_filter == "Saturday" %}selected{% endif %}>Saturday</option>
        <option value="Sunday" {% if day_filter == "Sunday" %}selected{% endif %}>Sunday</option>
        <option value="Monday" {% if day_filter == "Monday" %}selected{% endif %}>Monday</option>
        <option value="Tuesday" {% if day_filter == "Tuesday" %}selected{% endif %}>Tuesday</option>
        <option value="Wednesday" {% if day_filter == "Wednesday" %}selected{% endif %}>Wednesday</option>
        <option value="Thursday" {% if day_filter == "Thursday" %}selected{% endif %}>Thursday</option>
        <option value="Friday" {% if day_filter == "Friday" %}selected{% endif %}>Friday</option>
    </select>

    <button type="submit" class="btn btn-primary">Filter</button>
    <a href="{% url 'routine:routine_list' %}" class="btn btn-secondary">Reset</a>
</form>

<a href="{% url 'routine:routine_create' %}" class="btn btn-success mb-3">â• Add Routine</a>

<table border="1" cellpadding="8">
    <tr>
        <th>Title</th>
        <th>Class</th>
        <th>Day</th>
        <th>Subject</th>
        <th>Time</th>
        <th>Room</th>
        <th>Action</th>
    </tr>

    {% for r in routines %}
    <tr>
        <td>{{ r.title }}</td>
        <td>{{ r.class_name }}</td>
        <td>{{ r.day }}</td>
        <td>{{ r.subject }}</td>
        <td>{{ r.start_time }} - {{ r.end_time }}</td>
        <td>{{ r.room }}</td>
        <td>
            <a href="{% url 'routine:routine_update' r.id %}">âœï¸ Edit</a> |
            <a href="{% url 'routine:routine_delete' r.id %}">ğŸ—‘ï¸ Delete</a>
        </td>
    </tr>
    {% empty %}
    <tr><td colspan="6">No routine found</td></tr>
    {% endfor %}
</table>
{% endblock %}
